{"ast":null,"code":"import { ref } from 'vue';\nexport default function useJwt() {\n  // Initialize token from localStorage if available\n  const token = ref(localStorage.getItem('jwt') || null);\n\n  // Set a new token value and update localStorage\n  const setToken = newToken => {\n    token.value = newToken;\n    localStorage.setItem('jwt', newToken);\n  };\n\n  // Get the current token value\n  // Refresh from localStorage if needed\n  const getToken = () => {\n    if (!token.value) {\n      token.value = localStorage.getItem('jwt');\n    }\n    return token.value;\n  };\n\n  // Placeholder function for decoding the token if needed in the future\n  const decodeToken = () => {\n    // TODO: Add logic to decode the token if necessary\n  };\n\n  // Remove the token and clear from localStorage\n  const removeToken = () => {\n    token.value = null;\n    localStorage.removeItem('jwt');\n  };\n  return {\n    setToken,\n    getToken,\n    decodeToken,\n    removeToken\n  };\n}","map":{"version":3,"names":["ref","useJwt","token","localStorage","getItem","setToken","newToken","value","setItem","getToken","decodeToken","removeToken","removeItem"],"sources":["C:/Users/2409/Desktop/vue3最新/vue3/src/composables/useJwt.js"],"sourcesContent":["import { ref } from 'vue';\r\n\r\nexport default function useJwt() {\r\n  // Initialize token from localStorage if available\r\n  const token = ref(localStorage.getItem('jwt') || null);\r\n\r\n  // Set a new token value and update localStorage\r\n  const setToken = (newToken) => {\r\n    token.value = newToken;\r\n    localStorage.setItem('jwt', newToken);\r\n  };\r\n\r\n  // Get the current token value\r\n  // Refresh from localStorage if needed\r\n  const getToken = () => {\r\n    if (!token.value) {\r\n      token.value = localStorage.getItem('jwt');\r\n    }\r\n    return token.value;\r\n  };\r\n\r\n  // Placeholder function for decoding the token if needed in the future\r\n  const decodeToken = () => {\r\n    // TODO: Add logic to decode the token if necessary\r\n  };\r\n\r\n  // Remove the token and clear from localStorage\r\n  const removeToken = () => {\r\n    token.value = null;\r\n    localStorage.removeItem('jwt');\r\n  };\r\n\r\n  return {\r\n    setToken,\r\n    getToken,\r\n    decodeToken,\r\n    removeToken,\r\n  };\r\n}\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,KAAK;AAEzB,eAAe,SAASC,MAAMA,CAAA,EAAG;EAC/B;EACA,MAAMC,KAAK,GAAGF,GAAG,CAACG,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;;EAEtD;EACA,MAAMC,QAAQ,GAAIC,QAAQ,IAAK;IAC7BJ,KAAK,CAACK,KAAK,GAAGD,QAAQ;IACtBH,YAAY,CAACK,OAAO,CAAC,KAAK,EAAEF,QAAQ,CAAC;EACvC,CAAC;;EAED;EACA;EACA,MAAMG,QAAQ,GAAGA,CAAA,KAAM;IACrB,IAAI,CAACP,KAAK,CAACK,KAAK,EAAE;MAChBL,KAAK,CAACK,KAAK,GAAGJ,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IAC3C;IACA,OAAOF,KAAK,CAACK,KAAK;EACpB,CAAC;;EAED;EACA,MAAMG,WAAW,GAAGA,CAAA,KAAM;IACxB;EAAA,CACD;;EAED;EACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxBT,KAAK,CAACK,KAAK,GAAG,IAAI;IAClBJ,YAAY,CAACS,UAAU,CAAC,KAAK,CAAC;EAChC,CAAC;EAED,OAAO;IACLP,QAAQ;IACRI,QAAQ;IACRC,WAAW;IACXC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}