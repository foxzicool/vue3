{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"my-5 row justify-content-center\"\n};\nconst _hoisted_2 = {\n  class: \"table align-middle\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"品名\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"數量\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"單價\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"text-end\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"td\", {\n  colspan: \"2\",\n  class: \"text-end\"\n}, \"總計\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"text-end\"\n};\nconst _hoisted_7 = {\n  class: \"table\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"th\", {\n  width: \"100\"\n}, \"Email\", -1 /* HOISTED */);\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"th\", null, \"姓名\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"th\", null, \"收件人電話\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"th\", null, \"收件人地址\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"th\", null, \"付款狀態\", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = {\n  key: 1,\n  class: \"text-success\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"text-end\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-danger\"\n}, \"確認付款去\", -1 /* HOISTED */);\nconst _hoisted_17 = [_hoisted_16];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8 /* PROPS */, [\"active\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    class: \"col-md-6\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.payOrder && $options.payOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.order.products, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.product.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.qty) + \"/\" + _toDisplayString(item.product.unit), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_4, _toDisplayString(item.final_total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_hoisted_5, _createElementVNode(\"td\", _hoisted_6, _toDisplayString($data.order.total), 1 /* TEXT */)])])]), _createElementVNode(\"table\", _hoisted_7, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_8, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.email), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.name), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.tel), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.address), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"td\", null, [!$data.order.is_paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \"尚未付款\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_14, \"付款完成\"))])])])]), $data.order.is_paid === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, _hoisted_17)) : _createCommentVNode(\"v-if\", true)], 32 /* HYDRATE_EVENTS */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","colspan","width","_hoisted_16","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","order","products","item","key","id","_toDisplayString","product","title","qty","unit","_hoisted_4","final_total","_hoisted_5","_hoisted_6","total","_hoisted_7","_hoisted_8","user","email","_hoisted_9","name","_hoisted_10","tel","_hoisted_11","address","_hoisted_12","is_paid","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_17"],"sources":["/Users/foxyy/Desktop/寫好的/電商spring+vue3 final/ijrgoer/src/views/UserCheckout.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"my-5 row justify-content-center\">\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n      <table class=\"table align-middle\">\n        <thead>\n        <th>品名</th>\n        <th>數量</th>\n        <th>單價</th>\n        </thead>\n        <tbody>\n        <tr v-for=\"item in order.products\" :key=\"item.id\">\n          <td>{{ item.product.title }}</td>\n          <td>{{ item.qty }}/{{ item.product.unit }}</td>\n          <td class=\"text-end\">{{ item.final_total }}</td>\n        </tr>\n        </tbody>\n        <tfoot>\n        <tr>\n          <td colspan=\"2\" class=\"text-end\">總計</td>\n          <td class=\"text-end\">{{ order.total }}</td>\n        </tr>\n        </tfoot>\n      </table>\n\n      <table class=\"table\">\n        <tbody>\n        <tr>\n          <th width=\"100\">Email</th>\n          <td>{{ order.user.email }}</td>\n        </tr>\n        <tr>\n          <th>姓名</th>\n          <td>{{ order.user.name }}</td>\n        </tr>\n        <tr>\n          <th>收件人電話</th>\n          <td>{{ order.user.tel }}</td>\n        </tr>\n        <tr>\n          <th>收件人地址</th>\n          <td>{{ order.user.address }}</td>\n        </tr>\n        <tr>\n          <th>付款狀態</th>\n          <td>\n            <span v-if=\"!order.is_paid\">尚未付款</span>\n            <span v-else class=\"text-success\">付款完成</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <div class=\"text-end\" v-if=\"order.is_paid === false\">\n        <button class=\"btn btn-danger\">確認付款去</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            console.log(this.order);\n          }\n        });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n\n      this.$http.post(url)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.getOrder();\n          }\n        });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}