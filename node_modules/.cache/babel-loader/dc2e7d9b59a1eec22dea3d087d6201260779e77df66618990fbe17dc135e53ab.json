{"ast":null,"code":"export default {\n  data() {\n    return {\n      order: {\n        user: {}\n      },\n      orderId: '',\n      isLoading: false\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(url).then(res => {\n        if (res.data.success) {\n          this.order = res.data.order;\n          console.log(this.order);\n        }\n      });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(url).then(res => {\n        console.log(res);\n        if (res.data.success) {\n          this.getOrder();\n        }\n      });\n    }\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  }\n};","map":{"version":3,"names":["data","order","user","orderId","isLoading","methods","getOrder","url","process","env","VUE_APP_API","VUE_APP_PATH","$http","get","then","res","success","console","log","payOrder","post","created","$route","params"],"sources":["/Users/foxyy/Desktop/寫好的/電商spring+vue3 final/ijrgoer/src/views/UserCheckout.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"my-5 row justify-content-center\">\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n      <table class=\"table align-middle\">\n        <thead>\n        <th>品名</th>\n        <th>數量</th>\n        <th>單價</th>\n        </thead>\n        <tbody>\n        <tr v-for=\"item in order.products\" :key=\"item.id\">\n          <td>{{ item.product.title }}</td>\n          <td>{{ item.qty }}/{{ item.product.unit }}</td>\n          <td class=\"text-end\">{{ item.final_total }}</td>\n        </tr>\n        </tbody>\n        <tfoot>\n        <tr>\n          <td colspan=\"2\" class=\"text-end\">總計</td>\n          <td class=\"text-end\">{{ order.total }}</td>\n        </tr>\n        </tfoot>\n      </table>\n\n      <table class=\"table\">\n        <tbody>\n        <tr>\n          <th width=\"100\">Email</th>\n          <td>{{ order.user.email }}</td>\n        </tr>\n        <tr>\n          <th>姓名</th>\n          <td>{{ order.user.name }}</td>\n        </tr>\n        <tr>\n          <th>收件人電話</th>\n          <td>{{ order.user.tel }}</td>\n        </tr>\n        <tr>\n          <th>收件人地址</th>\n          <td>{{ order.user.address }}</td>\n        </tr>\n        <tr>\n          <th>付款狀態</th>\n          <td>\n            <span v-if=\"!order.is_paid\">尚未付款</span>\n            <span v-else class=\"text-success\">付款完成</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <div class=\"text-end\" v-if=\"order.is_paid === false\">\n        <button class=\"btn btn-danger\">確認付款去</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            console.log(this.order);\n          }\n        });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n\n      this.$http.post(url)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.getOrder();\n          }\n        });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  },\n};\n</script>\n"],"mappings":"AA4DA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE;QACLC,IAAI,EAAE,CAAC;MACT,CAAC;MACDC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAG;MACT,MAAMC,GAAE,GAAK,GAAEC,OAAO,CAACC,GAAG,CAACC,WAAY,OAAMF,OAAO,CAACC,GAAG,CAACE,YAAa,UAAS,IAAI,CAACR,OAAQ,EAAC;MAE7F,IAAI,CAACS,KAAK,CAACC,GAAG,CAACN,GAAG,EACfO,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACf,IAAI,CAACgB,OAAO,EAAE;UACpB,IAAI,CAACf,KAAI,GAAIc,GAAG,CAACf,IAAI,CAACC,KAAK;UAC3BgB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,KAAK,CAAC;QACzB;MACF,CAAC,CAAC;IACN,CAAC;IACDkB,QAAQA,CAAA,EAAG;MACT,MAAMZ,GAAE,GAAK,GAAEC,OAAO,CAACC,GAAG,CAACC,WAAY,OAAMF,OAAO,CAACC,GAAG,CAACE,YAAa,QAAO,IAAI,CAACR,OAAQ,EAAC;MAE3F,IAAI,CAACS,KAAK,CAACQ,IAAI,CAACb,GAAG,EAChBO,IAAI,CAAEC,GAAG,IAAK;QACbE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;QAChB,IAAIA,GAAG,CAACf,IAAI,CAACgB,OAAO,EAAE;UACpB,IAAI,CAACV,QAAQ,EAAE;QACjB;MACF,CAAC,CAAC;IACN;EACF,CAAC;EACDe,OAAOA,CAAA,EAAG;IACR,IAAI,CAAClB,OAAM,GAAI,IAAI,CAACmB,MAAM,CAACC,MAAM,CAACpB,OAAO;IACzCc,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,OAAO,CAAC;IACzB,IAAI,CAACG,QAAQ,EAAE;EACjB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}