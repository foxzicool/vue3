{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport useJwt from '../composables/useJwt';\nconst {\n  getToken\n} = useJwt();\nconst routes = [{\n  path: '/',\n  name: 'Home',\n  component: Home\n}, {\n  path: '/about',\n  name: 'About',\n  component: () => import('../views/About.vue')\n}, {\n  path: '/login',\n  component: () => import('../views/Login.vue')\n}, {\n  path: '/dashboard',\n  component: () => import('../views/Dashboard.vue'),\n  children: [{\n    path: 'products',\n    component: () => import('../views/Products.vue')\n  }, {\n    path: 'orders',\n    component: () => import('../views/Orders.vue')\n  }, {\n    path: 'coupons',\n    component: () => import('../views/Coupons.vue')\n  }]\n}, {\n  path: '/user',\n  component: () => import('../views/Userboard.vue'),\n  children: [{\n    path: 'cart',\n    component: () => import('../views/UserCart.vue')\n  }, {\n    path: 'product/:productId',\n    component: () => import('../views/UserProduct.vue')\n  }, {\n    path: 'checkout/:orderId',\n    component: () => import('../views/UserCheckout.vue')\n  }]\n}];\nconst router = createRouter({\n  history: createWebHashHistory(),\n  linkActiveClass: 'active',\n  routes\n});\n\n// 使用 beforeEach 鉤子\nrouter.beforeEach((to, from, next) => {\n  const token = getToken();\n  if (to.path !== '/login' && !token) {\n    next('/login');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","Home","useJwt","getToken","routes","path","name","component","children","router","history","linkActiveClass","beforeEach","to","from","next","token"],"sources":["C:/Users/2409/Desktop/新增資料夾 (18)/vue3/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router';\r\nimport Home from '../views/Home.vue';\r\nimport useJwt from '../composables/useJwt';\r\n\r\nconst { getToken } = useJwt();\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home,\r\n  },\r\n  {\r\n    path: '/about',\r\n    name: 'About',\r\n    component: () => import('../views/About.vue'),\r\n  },\r\n  {\r\n    path: '/login',\r\n    component: () => import('../views/Login.vue'),\r\n  },\r\n  {\r\n    path: '/dashboard',\r\n    component: () => import('../views/Dashboard.vue'),\r\n    children: [\r\n      {\r\n        path: 'products',\r\n        component: () => import('../views/Products.vue'),\r\n      },\r\n      {\r\n        path: 'orders',\r\n        component: () => import('../views/Orders.vue'),\r\n      },\r\n      {\r\n        path: 'coupons',\r\n        component: () => import('../views/Coupons.vue'),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: '/user',\r\n    component: () => import('../views/Userboard.vue'),\r\n    children: [\r\n      {\r\n        path: 'cart',\r\n        component: () => import('../views/UserCart.vue'),\r\n      },\r\n      {\r\n        path: 'product/:productId',\r\n        component: () => import('../views/UserProduct.vue'),\r\n      },\r\n      {\r\n        path: 'checkout/:orderId',\r\n        component: () => import('../views/UserCheckout.vue'),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  linkActiveClass: 'active',\r\n  routes,\r\n});\r\n\r\n// 使用 beforeEach 鉤子\r\nrouter.beforeEach((to, from, next) => {\r\n  const token = getToken();\r\n  \r\n  if (to.path !== '/login' && !token) {\r\n    next('/login');\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,oBAAoB,QAAQ,YAAY;AAC/D,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,MAAM;EAAEC;AAAS,CAAC,GAAGD,MAAM,EAAE;AAE7B,MAAME,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEN;AACb,CAAC,EACD;EACEI,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oBAAoB;AAC9C,CAAC,EACD;EACEF,IAAI,EAAE,QAAQ;EACdE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oBAAoB;AAC9C,CAAC,EACD;EACEF,IAAI,EAAE,YAAY;EAClBE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB,CAAC;EACjDC,QAAQ,EAAE,CACR;IACEH,IAAI,EAAE,UAAU;IAChBE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB;EACjD,CAAC,EACD;IACEF,IAAI,EAAE,QAAQ;IACdE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,qBAAqB;EAC/C,CAAC,EACD;IACEF,IAAI,EAAE,SAAS;IACfE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,sBAAsB;EAChD,CAAC;AAEL,CAAC,EACD;EACEF,IAAI,EAAE,OAAO;EACbE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB,CAAC;EACjDC,QAAQ,EAAE,CACR;IACEH,IAAI,EAAE,MAAM;IACZE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB;EACjD,CAAC,EACD;IACEF,IAAI,EAAE,oBAAoB;IAC1BE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,0BAA0B;EACpD,CAAC,EACD;IACEF,IAAI,EAAE,mBAAmB;IACzBE,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B;EACrD,CAAC;AAEL,CAAC,CACF;AAED,MAAME,MAAM,GAAGV,YAAY,CAAC;EAC1BW,OAAO,EAAEV,oBAAoB,EAAE;EAC/BW,eAAe,EAAE,QAAQ;EACzBP;AACF,CAAC,CAAC;;AAEF;AACAK,MAAM,CAACG,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGb,QAAQ,EAAE;EAExB,IAAIU,EAAE,CAACR,IAAI,KAAK,QAAQ,IAAI,CAACW,KAAK,EAAE;IAClCD,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACLA,IAAI,EAAE;EACR;AACF,CAAC,CAAC;AAEF,eAAeN,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}