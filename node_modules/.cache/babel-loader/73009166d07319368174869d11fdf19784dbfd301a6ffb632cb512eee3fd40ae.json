{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  \"aria-label\": \"breadcrumb\"\n};\nconst _hoisted_3 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_4 = {\n  class: \"breadcrumb-item\"\n};\nconst _hoisted_5 = {\n  class: \"breadcrumb-item active\",\n  \"aria-current\": \"page\"\n};\nconst _hoisted_6 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_7 = {\n  class: \"col-8\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"col-4\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"h5\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"h6\"\n};\nconst _hoisted_12 = {\n  key: 2,\n  class: \"h5\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: _ctx.isLoading\n  }, null, 8, [\"active\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"ol\", _hoisted_3, [_createElementVNode(\"li\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/user/cart\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"購物車\")]),\n    _: 1\n  })]), _createElementVNode(\"li\", _hoisted_5, _toDisplayString($data.product.title), 1)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"article\", _hoisted_7, [_createElementVNode(\"h2\", null, _toDisplayString($data.product.title), 1), _createElementVNode(\"div\", null, _toDisplayString($data.product.content), 1), _createElementVNode(\"div\", null, _toDisplayString($data.product.description), 1), _createElementVNode(\"img\", {\n    src: $data.product.imageUrl,\n    alt: \"\",\n    class: \"img-fluid mb-3\"\n  }, null, 8, _hoisted_8)]), _createElementVNode(\"div\", _hoisted_9, [!$data.product.price ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _toDisplayString($data.product.origin_price) + \" 元\", 1)) : _createCommentVNode(\"\", true), $data.product.price ? (_openBlock(), _createElementBlock(\"del\", _hoisted_11, \"原價 \" + _toDisplayString($data.product.origin_price) + \" 元\", 1)) : _createCommentVNode(\"\", true), $data.product.price ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, \"現在只要 \" + _toDisplayString($data.product.price) + \" 元\", 1)) : _createCommentVNode(\"\", true), _hoisted_13, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-outline-danger\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.addToCart($data.product.id))\n  }, \" 加到購物車 \")])])])], 64);\n}","map":{"version":3,"names":["class","_createElementVNode","_createVNode","_component_Loading","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_router_link","to","_hoisted_5","_toDisplayString","$data","product","title","_hoisted_6","_hoisted_7","content","description","src","imageUrl","alt","_hoisted_9","price","_createElementBlock","_hoisted_10","origin_price","_hoisted_11","_hoisted_12","_hoisted_13","type","onClick","_cache","$event","$options","addToCart","id"],"sources":["/Users/foxyy/Desktop/寫好的/電商spring+vue3 final/ijrgoer/src/views/UserProduct.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"container\">\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><router-link to=\"/user/cart\">購物車</router-link></li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n      </ol>\n    </nav>\n    <div class=\"row justify-content-center\">\n      <article class=\"col-8\">\n        <h2>{{ product.title }}</h2>\n        <div>{{ product.content }}</div>\n        <div>{{ product.description }}</div>\n        <img :src=\"product.imageUrl\" alt=\"\" class=\"img-fluid mb-3\">\n      </article>\n      <div class=\"col-4\">\n        <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\n        <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\n        <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\n        <hr>\n        <button type=\"button\" class=\"btn btn-outline-danger\"\n                @click=\"addToCart(product.id)\">\n          加到購物車\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      product: {},\n      id: '',\n    };\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api).then((response) => {\n        console.log(response.data);\n        this.isLoading = false;\n        if (response.data.success) {\n          this.product = response.data.product;\n        }\n      });\n    },\n    addToCart(id, qty = 1) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.isLoading = false;\n        this.$httpMessageState(response, '加入購物車');\n        this.$router.push('/user/cart');\n      });\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n  },\n};\n</script>\n"],"mappings":";;EAEOA,KAAK,EAAC;AAAW;;EACf,YAAU,EAAC;AAAY;;EACtBA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAiB;;EACvBA,KAAK,EAAC,wBAAwB;EAAC,cAAY,EAAC;;;EAG/CA,KAAK,EAAC;AAA4B;;EAC5BA,KAAK,EAAC;AAAO;;;EAMjBA,KAAK,EAAC;AAAO;;;EACXA,KAAK,EAAC;;;;EACNA,KAAK,EAAC;;;;EACNA,KAAK,EAAC;;iCACXC,mBAAA,CAAI;;;;6DAnBVC,YAAA,CAAuCC,kBAAA;IAA7BC,MAAM,EAAEC,IAAA,CAAAC;EAAS,yBAC3BL,mBAAA,CAyBM,OAzBNM,UAyBM,GAxBJN,mBAAA,CAKM,OALNO,UAKM,GAJJP,mBAAA,CAGK,MAHLQ,UAGK,GAFHR,mBAAA,CAA+E,MAA/ES,UAA+E,GAAnDR,YAAA,CAA8CS,sBAAA;IAAjCC,EAAE,EAAC;EAAY;sBAAC,MAAG,C,iBAAH,KAAG,E;;QAC5DX,mBAAA,CAA+E,MAA/EY,UAA+E,EAAAC,gBAAA,CAArBC,KAAA,CAAAC,OAAO,CAACC,KAAK,M,KAG3EhB,mBAAA,CAiBM,OAjBNiB,UAiBM,GAhBJjB,mBAAA,CAKU,WALVkB,UAKU,GAJRlB,mBAAA,CAA4B,YAAAa,gBAAA,CAArBC,KAAA,CAAAC,OAAO,CAACC,KAAK,OACpBhB,mBAAA,CAAgC,aAAAa,gBAAA,CAAxBC,KAAA,CAAAC,OAAO,CAACI,OAAO,OACvBnB,mBAAA,CAAoC,aAAAa,gBAAA,CAA5BC,KAAA,CAAAC,OAAO,CAACK,WAAW,OAC3BpB,mBAAA,CAA2D;IAArDqB,GAAG,EAAEP,KAAA,CAAAC,OAAO,CAACO,QAAQ;IAAEC,GAAG,EAAC,EAAE;IAACxB,KAAK,EAAC;6BAE5CC,mBAAA,CASM,OATNwB,UASM,G,CARmBV,KAAA,CAAAC,OAAO,CAACU,KAAK,I,cAApCC,mBAAA,CAAwE,OAAxEC,WAAwE,EAAAd,gBAAA,CAA/BC,KAAA,CAAAC,OAAO,CAACa,YAAY,IAAG,IAAE,Q,+BAC5Cd,KAAA,CAAAC,OAAO,CAACU,KAAK,I,cAAnCC,mBAAA,CAA0E,OAA1EG,WAA0E,EAArC,KAAG,GAAAhB,gBAAA,CAAGC,KAAA,CAAAC,OAAO,CAACa,YAAY,IAAG,IAAE,Q,+BAC9Cd,KAAA,CAAAC,OAAO,CAACU,KAAK,I,cAAnCC,mBAAA,CAAqE,OAArEI,WAAqE,EAAhC,OAAK,GAAAjB,gBAAA,CAAGC,KAAA,CAAAC,OAAO,CAACU,KAAK,IAAG,IAAE,Q,+BAC/DM,WAAI,EACJ/B,mBAAA,CAGS;IAHDgC,IAAI,EAAC,QAAQ;IAACjC,KAAK,EAAC,wBAAwB;IAC3CkC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS,CAACvB,KAAA,CAAAC,OAAO,CAACuB,EAAE;KAAG,SAEvC,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}