{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport visitRecorder from '@/methods/visitRecorder';\nexport default {\n  name: 'Order',\n  setup() {\n    const orders = ref([]);\n    const isLoading = ref(false);\n\n    // 记录访问，放在 setup 函数开始处\n    visitRecorder.recordVisit('OrderPage');\n    const getOrders = () => {\n      const url = `/api/user_orders`;\n      isLoading.value = true;\n      axios.get(url).then(response => {\n        orders.value = response.data;\n        isLoading.value = false;\n      }).catch(error => {\n        console.error('Failed to fetch orders:', error);\n        isLoading.value = false;\n      });\n    };\n    onMounted(() => {\n      getOrders();\n    });\n    return {\n      orders,\n      isLoading\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","visitRecorder","name","setup","orders","isLoading","recordVisit","getOrders","url","value","get","then","response","data","catch","error","console"],"sources":["C:\\Users\\2409\\Desktop\\vue3最新\\vue3\\src\\views\\Orders.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2 class=\"my-4\">所有訂單</h2>\r\n\r\n    <div v-if=\"isLoading\">\r\n      <p>Loading...</p>\r\n    </div>\r\n\r\n    <div v-else>\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Email</th>\r\n            <th>收件人姓名</th>\r\n            <th>收件人電話</th>\r\n            <th>收件人地址</th>\r\n            <th>留言</th>\r\n            <th>品名</th> \r\n            <th>總計</th> \r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"order in orders\" :key=\"order.id\">\r\n            <td>{{ order.email }}</td>\r\n            <td>{{ order.recipientName }}</td>\r\n            <td>{{ order.recipientPhone }}</td>\r\n            <td>{{ order.recipientAddress }}</td>\r\n            <td>{{ order.message }}</td>\r\n            <td>{{ order.productNames }}</td>\r\n            <td>{{ order.finalTotal }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport visitRecorder from '@/methods/visitRecorder';\r\n\r\nexport default {\r\n  name: 'Order',\r\n  setup() {\r\n    const orders = ref([]);\r\n    const isLoading = ref(false);\r\n\r\n    // 记录访问，放在 setup 函数开始处\r\n    visitRecorder.recordVisit('OrderPage');\r\n\r\n    const getOrders = () => {\r\n      const url = `/api/user_orders`;\r\n      isLoading.value = true;\r\n      axios.get(url).then((response) => {\r\n        orders.value = response.data;\r\n        isLoading.value = false;\r\n      }).catch(error => {\r\n        console.error('Failed to fetch orders:', error);\r\n        isLoading.value = false;\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      getOrders();\r\n    });\r\n\r\n    return {\r\n      orders,\r\n      isLoading\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n"],"mappings":"AAsCA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,aAAY,MAAO,yBAAyB;AAEnD,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIN,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMO,SAAQ,GAAIP,GAAG,CAAC,KAAK,CAAC;;IAE5B;IACAG,aAAa,CAACK,WAAW,CAAC,WAAW,CAAC;IAEtC,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtB,MAAMC,GAAE,GAAK,kBAAiB;MAC9BH,SAAS,CAACI,KAAI,GAAI,IAAI;MACtBT,KAAK,CAACU,GAAG,CAACF,GAAG,CAAC,CAACG,IAAI,CAAEC,QAAQ,IAAK;QAChCR,MAAM,CAACK,KAAI,GAAIG,QAAQ,CAACC,IAAI;QAC5BR,SAAS,CAACI,KAAI,GAAI,KAAK;MACzB,CAAC,CAAC,CAACK,KAAK,CAACC,KAAI,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/CV,SAAS,CAACI,KAAI,GAAI,KAAK;MACzB,CAAC,CAAC;IACJ,CAAC;IAEDV,SAAS,CAAC,MAAM;MACdQ,SAAS,EAAE;IACb,CAAC,CAAC;IAEF,OAAO;MACLH,MAAM;MACNC;IACF,CAAC;EACH;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}