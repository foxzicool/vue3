"use strict";(self["webpackChunkijrgoer"]=self["webpackChunkijrgoer"]||[]).push([[871],{6871:function(t,i,r){r.r(i),r.d(i,{default:function(){return k}});var c=r(3396),o=r(7139);const a={class:"container"},s={"aria-label":"breadcrumb"},e={class:"breadcrumb"},d={class:"breadcrumb-item"},u={class:"breadcrumb-item active","aria-current":"page"},n={class:"row justify-content-center"},l={class:"col-8"},p=["src"],_={class:"col-4"},h={key:0,class:"h5"},g={key:1,class:"h6"},b={key:2,class:"h5"},E=(0,c._)("hr",null,null,-1);function w(t,i,r,w,m,v){const P=(0,c.up)("Loading"),k=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(P,{active:t.isLoading},null,8,["active"]),(0,c._)("div",a,[(0,c._)("nav",s,[(0,c._)("ol",e,[(0,c._)("li",d,[(0,c.Wm)(k,{to:"/user/cart"},{default:(0,c.w5)((()=>[(0,c.Uk)("購物車")])),_:1})]),(0,c._)("li",u,(0,o.zw)(m.product.title),1)])]),(0,c._)("div",n,[(0,c._)("article",l,[(0,c._)("h2",null,(0,o.zw)(m.product.title),1),(0,c._)("div",null,(0,o.zw)(m.product.content),1),(0,c._)("div",null,(0,o.zw)(m.product.description),1),(0,c._)("img",{src:m.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,p)]),(0,c._)("div",_,[m.product.price?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("div",h,(0,o.zw)(m.product.origin_price)+" 元",1)),m.product.price?((0,c.wg)(),(0,c.iD)("del",g,"原價 "+(0,o.zw)(m.product.origin_price)+" 元",1)):(0,c.kq)("",!0),m.product.price?((0,c.wg)(),(0,c.iD)("div",b,"現在只要 "+(0,o.zw)(m.product.price)+" 元",1)):(0,c.kq)("",!0),E,(0,c._)("button",{type:"button",class:"btn btn-outline-danger",onClick:i[0]||(i[0]=t=>v.addToCart(m.product.id))}," 加到購物車 ")])])])],64)}r(7658);var m={data(){return{product:{},id:""}},methods:{getProduct(){const t=`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API}api/${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_PATH}/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t,i=1){const r=`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API}api/${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_PATH}/cart`,c={product_id:t,qty:i};this.isLoading=!0,this.$http.post(r,{data:c}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},v=r(89);const P=(0,v.Z)(m,[["render",w]]);var k=P}}]);
//# sourceMappingURL=871.5fa50f92.js.map